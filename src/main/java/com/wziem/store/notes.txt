/*
Spring annotations: for Spring IOC Container
- Component: general purpose (utility classes)
- Service: classes that contain busienss logic
- Repository: classes that interact with database
- Controller: marking classes as controllers for handling web requests

 */

 /*
 Controlling bean selection:
 - @Primary: if there are multiple beans of the same type, this one will be selected
 - @Qualifier: select a bean by name

  public OrderService(@Qualifier("stripe") PaymentService paymentService) {

  */

 @Lazy //won't be created until needed

//class for beans creation manually
@Configuration
public class AppConfig {

#you should only use one config file yaml or properties so i should delete other one but ill leave it there for reference
@Value("${stripe.timeout:3000}") // deafult value if not defined in application properties is 3000
private int timeout;

Bean scopes: @Scope("type")
- Singleton - only one instance
- Prototype - new instance created every time I use it
- Request - lives for the duration of one HTTP request, good for storing request data
- Sesssion - new bean instance for each HTTP session

@PostConstruct //this method will be called after bean is initializated
- this is a good moment to initialize everything you need after the creation of a bean - eg. open database/network connection


ON DELETE RESTRICT --prevents from deleting category when its applied to product


where the foreign key is - that side is the owner


Select all occurances: CTRL+SHIFT+ALT+J
Double SHIFT search menu
ALT+INSERT: generate menu




just like there is a IOC Container for bean entities controlled by Spring there is a

Presistance Container - entities controlled by Hibernate (DB)

after creation (new User()) - transient (temporary)
after save() - presistent (in db and container)
when it's done with working with that entity, it's cleared from memory and only stays in db - deatched state
(no longer tracked by hibertane but has db id, save() can be run on it
When you run delete() on presistent entity hibernate removes it from databse and it becomes transient (temp)

lifetime of presistance context is called Transactoion:
transaction - group of operations that fails togehter or succeed together (like creating Order and updating stock of a product)



